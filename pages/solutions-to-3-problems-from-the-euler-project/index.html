<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Solutions to 3 problems from the Euler Project</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
<link href="/pages/solutions-to-3-problems-from-the-euler-project/" rel="canonical" />

  <!-- Feed -->

  <link href="/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="/theme/css/code_blocks/github.css" rel="stylesheet">

    <!-- CSS specified by the user -->


    <link href="/assets/css/myblog.css" type="text/css" rel="stylesheet" />

  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->




<!-- Open Graph -->
<meta property="og:site_name" content="Zhenhui Blog"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Zhenhui Blog"/>
<meta property="og:description" content="Welcome to Zhenhui Blog."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/"/>
<meta property="og:image" content="/assets/images/duke2.jpg">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Website",
  "name": " Zhenhui Blog ",
  "url" : "/",
  "image": "/assets/images/duke2.jpg",
  "description": "Welcome to Zhenhui Blog."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

              <li role="presentation"><a href="/pages/guide-to-set-up-github-pages-by-pelican/">Guide to set up Github Pages by Pelican</a></li>
              <li class="nav-solutions-to-3-problems-from-the-euler-project active" role="presentation"><a href="/pages/solutions-to-3-problems-from-the-euler-project/">Solutions to 3 problems from the Euler Project</a></li>

    </ul>
  </div>
</nav>
    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Solutions to 3 problems from the Euler Project</h1>
            <div class="post-cover cover" style="background-image: url('/assets/images/duke2.jpg')">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>
  <!-- Post content -->
  <main class="content" role="main">
      <article class="post">
      <div class="inner">
          <section class="post-content">
              <p>approach to solve these problems.</p>
<h2>Project Euler</h2>
<p><a href="https://projecteuler.net/">Project Euler</a> was started by Colin Hughes in October 2001 as a sub-section on mathschallenge.net. The popularity of Project Euler
has increased tremendously over the years since its inception through the concerted effort of numerous people. Users could start 
wherever the problems fit their background. The first one-hundred or so problems are generally considered to be easier than the
problems which follow. All the functions are annotated by numpy-style docstring.</p>
<p>In this blog, I will show my solutions and my code to 3 problems from the Project Euler.</p>
<h3>Problem 43: Sub-string divisibility</h3>
<p>Problem description: the number, 1406357289, is a 0 to 9 pandigital number because it is made up of each of the digits 0 to 9 in
some order, but it also has a rather interesting sub-string divisibility property.</p>
<p>Let d1 be the first digit, d2 be the second digit, and so on. In this way, we note the following:
    * d2d3d4=406 is divisible by 2
    * d3d4d5=063 is divisible by 3
    * d4d5d6=635 is divisible by 5<br>
    * d5d6d7=357 is divisible by 7
    * d6d7d8=572 is divisible by 11
    * d7d8d9=728 is divisible by 13
    * d8d9d10=289 is divisible by 17</p>
<p>Find the sum of all 0 to 9 pandigital number with this property.</p>
<h4>Check whether a number has sub-string divisibility property</h4>
<p>First, let's divide this problem into smaller pieces. We can use a function to check whether a number has sub-string divisibility
property. If this number satisfies this property, it could be added to the summation.</p>
<div class="highlight"><pre><span></span><span class="n">def</span> <span class="n">sub_div_check</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="ss">&quot;&quot;&quot;</span>
<span class="ss">    Check whether a number has sub-string divisibility property.</span>

<span class="ss">    Parameters</span>
<span class="ss">    -----------</span>
<span class="ss">    nums: integer</span>
<span class="ss">          The number is ready to test the sub-string divisibility property.</span>

<span class="ss">    Returns</span>
<span class="ss">    -----------</span>
<span class="ss">    flag: boolean value</span>
<span class="ss">        Return True if nums has sub-string divisibility property.</span>
<span class="ss">        Return False if nums doesn&#39;t have sub-string divisibility property.</span>

<span class="ss">    Raises</span>
<span class="ss">    -----------</span>
<span class="ss">    ValueError</span>
<span class="ss">        If nums is less than zero, if nums is not an integer</span>

<span class="ss">    Examples</span>
<span class="ss">    -----------</span>
<span class="ss">    Check whether 1406357289 has sub-string divisibility property:</span>
<span class="ss">    &gt;&gt;&gt; sub_div_check(1406357289)</span>
<span class="ss">    True</span>
<span class="ss">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">and</span> <span class="n">nums</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">nums</span> <span class="o">=</span> <span class="n">str</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">and</span> <span class="err">\</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">and</span> <span class="err">\</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">and</span> <span class="err">\</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span> <span class="o">%</span> <span class="mi">7</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">and</span> <span class="err">\</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">8</span><span class="p">])</span> <span class="o">%</span> <span class="mi">11</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">and</span> <span class="err">\</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">9</span><span class="p">])</span> <span class="o">%</span> <span class="mi">13</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">and</span> <span class="err">\</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span> <span class="o">%</span> <span class="mi">17</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">flag</span> <span class="o">=</span> <span class="k">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">flag</span> <span class="o">=</span> <span class="k">False</span>
        <span class="k">return</span> <span class="n">flag</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">raise</span> <span class="n">ValueError</span><span class="p">(</span><span class="ss">&quot;Only positive integer types is allowed.&quot;</span><span class="p">)</span>
</pre></div>


<h4>List all the pandigital numbers</h4>
<p>We can iterate through all the pandigital numbers and use the sub_div_check function to check whether this number has the 
sub-string divisibility. This function doesn't need any input variables.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sub_div</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The sum of all 0 to 9 pandigital numbers with the sub-string divisibility property.</span>

<span class="sd">    The sub-string divisibility property:  </span>
<span class="sd">    Let d1 be the first digit, d2 be the second digit, and so on.  </span>
<span class="sd">    d2d3d4 is divisible by 2  </span>
<span class="sd">    d3d4d5 is divisible by 3</span>
<span class="sd">    d4d5d6 is divisible by 5</span>
<span class="sd">    d5d6d7 is divisible by 7</span>
<span class="sd">    d6d7d8 is divisible by 11</span>
<span class="sd">    d7d8d9 is divisible by 13</span>
<span class="sd">    d8d9d10 is divisible by 17</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ans: integer</span>
<span class="sd">         the sum of all 0 to 9 pandigital numbers with the sub-string divisibility property</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">permutations</span>
    <span class="kn">import</span> <span class="nn">string</span>
    <span class="n">num</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span>
    <span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">permutations</span><span class="p">(</span><span class="n">num</span><span class="p">))]</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="n">sub_div_check</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ans</span>
</pre></div>


<p>The final answer is 16695334890.</p>
<h3>Problem 52 Permuted Multiples</h3>
<p><strong>Problem Description</strong>: It can be seen that the number, 125874, and its double, 251748, contain exactly the same digits, but in a
different order.
Find the smallest positive integer, x, such that 2x, 3x, 4x, 5x and 6x, contain the same digits.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">perm_mul</span><span class="p">(</span><span class="n">mul</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The smallest integer, such that 2x, 3x, 4x, 5x ... mulx, contains the same digits.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mul : integer&gt;=2</span>
<span class="sd">          The maximum multiplier</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    num: integer</span>
<span class="sd">         The smallest integer that contains the same digits</span>

<span class="sd">    Raise</span>
<span class="sd">    --------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If mul is not int or less than 2 </span>

<span class="sd">    Examples</span>
<span class="sd">    ---------</span>
<span class="sd">    &gt;&gt;&gt;perm_mul(6)</span>
<span class="sd">    142857</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mul</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">mul</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">num</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">flag</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">mul</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="o">*</span><span class="n">m</span><span class="p">)))</span><span class="o">==</span><span class="n">Counter</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))):</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span> 
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">mul</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">num</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">num</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Only integer types is allowed.&quot;</span><span class="p">)</span>
</pre></div>


<h3>Problem 101: Optimum polynomial</h3>
<p><strong>Problem description:</strong> If we are presented with the first k terms of a sequence it is impossible to 
say with certainty the value of the next term, as there are infinitely many polynomial functions that 
can model the sequence.</p>
<p>As an example, let us consider the sequence of cube numbers. This is defined by the generating function,
un = n3: 1, 8, 27, 64, 125, 216, ...</p>
<p>Suppose we were only given the first two terms of this sequence. Working on the principle that "simple is best" 
we should assume a linear relationship and predict the next term to be 15 (common difference 7). Even if we were 
presented with the first three terms, by the same principle of simplicity, a quadratic relationship should be assumed.</p>
<p>We shall define OP(k, n) to be the nth term of the optimum polynomial generating function for the first k terms of a 
sequence. It should be clear that OP(k, n) will accurately generate the terms of the sequence for n ≤ k, and potentially 
the first incorrect term (FIT) will be OP(k, k+1); in which case we shall call it a bad OP (BOP).</p>
<p>Find the sum of FITs for the BOPs.</p>
<p><strong>Solutions:</strong> 
1. List the first k term of the polynomial generating function where k = degree of generating function.<br>
2. Fit a new polynomial function by the first i term where i = 1,2,...,k
3. Calculate the first incorrect term
4. Sum all the FIT and return it as output.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">opt_poly</span><span class="p">(</span><span class="n">z</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The sum pf FITs generated by the BOPs.</span>

<span class="sd">    Define OP(k,n) to be the nth term of the optimum polynomial generating function for</span>
<span class="sd">    the first k terms of a sequence. The first incorrect term(FIT) will be OP(k,k+1); in</span>
<span class="sd">    which case we should call it a bad OP(BOP). Returns a number `fits` which is the sum</span>
<span class="sd">    of all the FIT of the generating function.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    z : ndarray, </span>
<span class="sd">        Polynomial coefficients, highest power first.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fits : float</span>

<span class="sd">    Examples</span>
<span class="sd">    ----------</span>
<span class="sd">    &gt;&gt;&gt;z = np.array([1,0,0,0])</span>
<span class="sd">    &gt;&gt;&gt;opt_poly(z)</span>
<span class="sd">    74</span>

<span class="sd">    &gt;&gt;&gt;z = np.array([1,-1,1,-1,1,-1,1,-1,1,-1,1])</span>
<span class="sd">    &gt;&gt;&gt;opt_poly(z)</span>
<span class="sd">    37076114526</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
    <span class="n">deg</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">poly1d</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">deg</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="n">p</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">deg</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
    <span class="n">fits</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">deg</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">x_train</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">y_train</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">z_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">polyfit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="n">p_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">poly1d</span><span class="p">(</span><span class="n">z_train</span><span class="p">)</span>
        <span class="n">fits</span> <span class="o">+=</span> <span class="n">p_train</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">fits</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">fits</span><span class="p">)))</span><span class="o">^</span><span class="nb">int</span><span class="p">(</span><span class="n">fits</span><span class="p">)</span>
</pre></div>
          </section>
      </div>
      </article>
  </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script type="text/javascript" src="/theme/js/script.js"></script>

    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3546274-12"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-3546274-12', { 'anonymize_ip': true });
    </script>
<script type="text/javascript">
    var disqus_shortname = 'attilademo';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>